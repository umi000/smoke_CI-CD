{"version":3,"file":"common-functions.js","sourceRoot":"","sources":["../../../../src/lib/common-functions/common-functions.ts"],"names":[],"mappings":"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","sourcesContent":["import * as Messages from '../helpers/console-messages';\nimport * as Models from '../models/models';\nimport * as jsonFuture from 'json-future';\nimport type * as messages from '@cucumber/messages';\nimport * as path from 'path';\nimport { format, intervalToDuration } from 'date-fns';\nimport fs, { promises as fsp } from 'fs';\nimport type { Readable } from 'stream';\nimport type { Stats } from 'fs';\nimport os from 'os';\n\nexport const streamToArray = async ( readableStream: Readable ): Promise<messages.Envelope[]> => {\n  return new Promise<messages.Envelope[]>(\n    (\n      resolve: ( wrappers: messages.Envelope[] ) => void,\n      reject: ( err: Error ) => void\n    ) => {\n      const items: messages.Envelope[] = [];\n      readableStream.on( 'data', ( item: messages.Envelope ) => {\n        items.push( item );\n      } );\n      /* istanbul ignore next */\n      readableStream.on( 'error', ( err: Error ) => {\n        reject( err );\n      } );\n      readableStream.on( 'end', () => {\n        resolve( items );\n      } );\n    }\n  );\n};\n\nexport const updatePercentages = ( results: Models.FeatureModuleResults | Models.ModuleResults ): Models.FeatureModuleResults | Models.ModuleResults => {\n  results.ambiguousPercentage = ( results.ambiguous ? results.ambiguous / results.total * 100 : 0 ).toFixed( 2 );\n  results.failedPercentage = ( results.failed ? results.failed / results.total * 100 : 0 ).toFixed( 2 );\n  results.undefinedPercentage = ( results.undefined ? results.undefined / results.total * 100 : 0 ).toFixed( 2 );\n  results.passedPercentage = ( results.passed ? results.passed / results.total * 100 : 0 ).toFixed( 2 );\n  results.pendingPercentage = ( results.pending ? results.pending / results.total * 100 : 0 ).toFixed( 2 );\n  results.skippedPercentage = ( results.skipped ? results.skipped / results.total * 100 : 0 ).toFixed( 2 );\n  if ( 'variousPercentage' in results ) {\n    results.variousPercentage = ( results.various ? results.various / results.total * 100 : 0 ).toFixed( 2 );\n    return results;\n  }\n  return results;\n};\n\nexport const updateResultsAndPercentages = ( sourceResults: Models.ModuleResults, targetResults: Models.ModuleResults ): Models.ModuleResults => {\n  sourceResults.passed += targetResults.passed;\n  sourceResults.failed += targetResults.failed;\n  sourceResults.skipped += targetResults.skipped;\n  sourceResults.pending += targetResults.pending;\n  sourceResults.undefined += targetResults.undefined;\n  sourceResults.ambiguous += targetResults.ambiguous;\n  sourceResults.total += targetResults.total;\n\n  sourceResults.ambiguousPercentage = ( sourceResults.ambiguous ? sourceResults.ambiguous / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  sourceResults.failedPercentage = ( sourceResults.failed ? sourceResults.failed / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  sourceResults.undefinedPercentage = ( sourceResults.undefined ? sourceResults.undefined / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  sourceResults.passedPercentage = ( sourceResults.passed ? sourceResults.passed / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  sourceResults.pendingPercentage = ( sourceResults.pending ? sourceResults.pending / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  sourceResults.skippedPercentage = ( sourceResults.skipped ? sourceResults.skipped / sourceResults.total * 100 : 0 ).toFixed( 2 );\n  return sourceResults;\n};\n\nexport const updateStatus = ( featureResults: Models.FeatureResults ): Models.Result[] => {\n  const result = <Models.Result[]>[];\n\n  if ( featureResults.scenarios.ambiguous ) {\n    result.push( { icon: 'fas fa-question-circle ambiguous-color', status: Models.Status.ambiguous } );\n  }\n\n  if ( featureResults.scenarios.pending ) {\n    result.push( { icon: 'fas fa-question-circle pending-color', status: Models.Status.pending } );\n  }\n\n  if ( featureResults.scenarios.undefined ) {\n    result.push( { icon: 'fa fa-question-circle undefined-color', status: Models.Status.undefined } );\n  }\n\n  if ( featureResults.scenarios.skipped ) {\n    result.push( { icon: 'arrow-circle-right skipped-color', status: Models.Status.skipped } );\n  }\n\n  if ( featureResults.scenarios.failed ) {\n    result.push( { icon: 'exclamation-circle failed-color', status: Models.Status.failed } );\n  }\n\n  if ( featureResults.scenarios.passed ) {\n    result.push( { icon: 'check-circle passed-color', status: Models.Status.passed } );\n  }\n\n  return result;\n};\n\nexport const isMetadata = ( metadata: Models.Metadata[] | undefined ): metadata is Models.Metadata[] =>\n  Array.isArray( metadata )\n    ? !metadata.filter( metadataElement => ( !( 'name' in metadataElement ) || !( 'value' in metadataElement ) ) ).length\n    : false;\n\nexport const escapeHTML = ( value: string ): string => value\n  .replace( /&/gu, '&amp;' )\n  .replace( /</gu, '&lt;' )\n  .replace( />/gu, '&gt;' );\n\nexport const isBase64 = ( value: string ): boolean => {\n  const base64regex = /^(?<firstGroup>[0-9a-zA-Z+/]{4})*(?<secondGroup>(?<thirdGroup>[0-9a-zA-Z+/]{2}==)|(?<fourthGroup>[0-9a-zA-Z+/]{3}=))?$/u;\n\n  return base64regex.test( value );\n};\n\nexport const getFilesAsync = async ( dir: string ): Promise<string[]> => {\n  let files: string[] = [];\n  const getFiles = async ( folder: string ): Promise<string[]> => {\n    files = await fsp.readdir( folder );\n    const result: Promise<string[]>[] = files.map( async ( file ) => {\n      const fileNameAndPath = path.join( folder, file );\n      return fsp.stat( fileNameAndPath ).then( ( stat ) => ( stat.isDirectory() ? getFiles( fileNameAndPath ) : [ fileNameAndPath ] ) );\n    } );\n    return <string[]>Array.prototype.concat( ...( await Promise.all( result ) ) );\n  };\n\n  return getFiles( dir );\n};\n\nexport const checkFolder = ( file: string | undefined ): boolean => {\n  if ( typeof file === 'undefined' ) {\n    return false;\n  }\n  let stats = <Stats>{};\n  try {\n    stats = fs.statSync( file );\n  } catch ( error: unknown ) {\n    throw new Error( Messages.invalidPathProvided( file ) );\n  }\n\n  return stats.isDirectory();\n};\n\nexport const readJsonFile = async <T> ( file: string, encoding: BufferEncoding = 'utf8' ): Promise<T | null> => {\n  const report = await fsp.readFile( file, { encoding } );\n\n  try {\n    return <T>jsonFuture.parse( report );\n  } catch ( error: unknown ) {\n    console.log( ( Messages.invalidJsonProvided( file, ( <Error>error ).message ) ) );\n  }\n  return null;\n};\n\nexport const saveJsonFile = async<T> ( filePath: string | undefined, fileName: string, json: T ): Promise<boolean> => {\n  const fileNameAndPath = path.join( filePath!, fileName );\n  const jsonString = await jsonFuture.stringifyAsync( { data: json, replacer: null, space: 4 } );\n  await fsp.writeFile( fileNameAndPath, jsonString, { encoding: 'utf8' } );\n  return true;\n};\n\nexport const getDateFormatted = ( date: Date ): string => format( date, 'yyyy-MM-dd HH:mm:ss' );\n\nexport const convertTimeFromNanoSecondsToHHMMSS = ( time: number ): string => {\n  const duration = intervalToDuration( { start: 0, end: time / 1000000 } );\n  const hours = ( `${String( duration.hours )}` ).padStart( 2, '0' );\n  const minutes = ( `${String( duration.minutes )}` ).padStart( 2, '0' );\n  const seconds = ( `${String( duration.seconds )}` ).padStart( 2, '0' );\n\n  return `${hours}:${minutes}:${seconds}`;\n};\n\nexport const moveArray = <T> ( arr: T[], fromIndex: number, toIndex: number ): T[] => {\n  const element = arr[ fromIndex ];\n  const deleteCountOne = 1;\n  arr.splice( fromIndex, deleteCountOne );\n  const deleteCountZero = 0;\n  arr.splice( toIndex, deleteCountZero, element );\n  return arr;\n};\n\nexport const exists = ( filePath: string ): boolean => {\n  return fs.existsSync( filePath );\n};\n\nexport const initializePath = ( reportPath?: string | undefined ): string => {\n  let reportPathFixed = reportPath;\n  const resultCheckReportCreationPath = checkFolder( reportPath );\n\n  if ( !resultCheckReportCreationPath && typeof reportPath === 'undefined' ) {\n    const date = format( new Date(), 'yyyy-MM-dd__HH-mm-ss' );\n    reportPathFixed = path.join( os.tmpdir(), 'cucumber-html-report-generator', date );\n    fs.mkdirSync( reportPathFixed, { recursive: true } );\n  }\n\n  return reportPathFixed!;\n};\n\nexport const pathExists = async ( folderPath: string ): Promise<boolean> => {\n  return new Promise( ( resolve ) => {\n    fs.access( folderPath, fs.constants.F_OK, error => {\n      resolve( !error );\n    } );\n  } );\n};\n\nexport const emptyFolder = async ( folderPath: string ): Promise<void> => {\n  /* istanbul ignore next */\n  if ( await pathExists( folderPath ) ) {\n    await fsp.rm( folderPath, { recursive: true } );\n  }\n  await fsp.mkdir( folderPath, { recursive: true } );\n};\n"]}