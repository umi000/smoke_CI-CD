{"version":3,"file":"generate-html.js","sourceRoot":"","sources":["../../../../../src/lib/generate-report/helpers/generate-html.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yFAA2E;AAC3E,gFAAkE;AAElE,8CAAgC;AAChC,+CAAiC;AACjC,2CAA6B;AAC7B,yEAA2D;AAC3D,yCAAyC;AACzC,+CAA2C;AAC3C,kDAA0B;AAC1B,gDAAwB;AAExB,MAAM,8BAA8B,GAAG,4DAA4D,CAAC;AACpG,MAAM,+BAA+B,GAAG,6DAA6D,CAAC;AACtG,MAAM,iCAAiC,GAAG,+CAA+C,CAAC;AAC1F,MAAM,kCAAkC,GAAG,gDAAgD,CAAC;AAC5F,MAAM,6BAA6B,GAAG,gFAAgF,CAAC;AACvH,MAAM,6BAA6B,GAAG,gFAAgF,CAAC;AACvH,MAAM,gBAAgB,GAAG,uDAAuD,CAAC;AACjF,MAAM,gBAAgB,GAAG,sDAAsD,CAAC;AAChF,MAAM,4BAA4B,GAAG,8EAA8E,CAAC;AACpH,MAAM,qBAAqB,GAAG,+EAA+E,CAAC;AAC9G,MAAM,sBAAsB,GAAG,gFAAgF,CAAC;AAChH,MAAM,qBAAqB,GAAG,+EAA+E,CAAC;AAC9G,MAAM,YAAY,GAAG,8EAA8E,CAAC;AACpG,MAAM,8BAA8B,GAAG,0FAA0F,CAAC;AAClI,MAAM,uBAAuB,GAAG,iFAAiF,CAAC;AAClH,MAAM,sBAAsB,GAAG,iFAAiF,CAAC;AACjH,MAAM,uBAAuB,GAAG,kFAAkF,CAAC;AACnH,MAAM,4BAA4B,GAAG,wFAAwF,CAAC;AAC9H,MAAM,eAAe,GAAG,0BAA0B,CAAC;AAEnD,MAAa,YAAY;IAQvB,YAAoB,KAA4B,EAAE,mBAAyC;QACzF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,wBAAU,CAAE,IAAI,CAAC,KAAK,CAAE,CAAC;QAC/C,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,OAAO,CAAC,oBAAoB,CAAE,IAAI,CAAC,mBAAmB,CAAC,KAAM,CAAE,CAAC;QAC5F,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,mBAAmB,CAAC,UAAW,EAAE,YAAY,CAAE,CAAC;QAC7F,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAE,UAAU,CAAE,CAAC;QAC/C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,OAAO,CAAE,OAAO,CAAC,OAAO,CAAE,KAAK,UAAU,EAAE,CAAE,CAAE,EAAE,UAAU,CAAE,CAAC;IAClG,CAAC;IAEM,KAAK,CAAC,eAAe;QAC1B,IAAI,CAAC,+BAA+B,EAAE,CAAC;QACvC,MAAM,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACrC,IAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAG;YACtC,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;SAC1C;QACD,MAAM,IAAI,CAAC,mBAAmB,EAAE,CAAC;IACnC,CAAC;IAEO,KAAK,CAAC,mBAAmB;QAC/B,0BAA0B;QAC1B,IAAK,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAG;YACzC,OAAO,CAAC,GAAG,CAAE,eAAK,CAAC,IAAI,CAAE,eAAe,CAAC,aAAa,CAAE,IAAI,CAAC,qBAAqB,CAAE,CAAE,CAAE,CAAC;SAC1F;QAED,0BAA0B;QAC1B,IAAK,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,EAAG;YAClD,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,mBAAmB,CAAC,UAAW,EAAE,UAAU,CAAE,CAAC;YAC1E,MAAM,KAAK,GAAG,MAAM,aAAG,CAAC,OAAO,CAAE,GAAG,CAAE,CAAC;YAEvC,0BAA0B;YAC1B,IAAK,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,iCAAiC,EAAG;gBACtF,MAAM,IAAA,cAAI,EAAE,IAAI,CAAC,IAAI,CAAE,GAAG,EAAE,KAAK,CAAE,CAAC,CAAE,CAAE,CAAE,CAAC;aAC5C;iBAAM;gBACL,MAAM,MAAM,GAAG,MAAM,IAAA,cAAI,EAAE,IAAI,CAAC,qBAAqB,CAAE,CAAC;gBACxD,OAAO,CAAC,GAAG,CAAE,MAAM,CAAE,CAAC;aACvB;SACF;IACH,CAAC;IAEO,+BAA+B;QACrC,YAAE,CAAC,aAAa,CACd,IAAI,CAAC,qBAAqB,EAC1B,IAAI,CAAC,gBAAgB,CAAE,6BAA6B,EAAE;YACpD,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAE,6BAA6B,EAAE;gBACtE,KAAK,EAAE,IAAI,CAAC,KAAK;aAClB,CAAE;YACH,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;gBACtD,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;gBACpC,YAAY,EAAE,0DAA0D;gBACxE,SAAS,EAAE,UAAU;aACtB,CAAE;YACH,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;gBACvD,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;gBACpC,YAAY,EAAE,0DAA0D;gBACxE,SAAS,EAAE,WAAW;aACvB,CAAE;YACH,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;gBACjD,YAAY,EAAE,0DAA0D;gBACxE,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;gBAC7B,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa;aACxC,CAAE;YAEH,uBAAuB,EAAE,IAAI,CAAC,gBAAgB,CAAE,+BAA+B,EAAE;gBAC/E,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,KAAK,EAAE,IAAI,CAAC,KAAK;aAClB,CAAE;YACH,MAAM,EAAE,IAAI,CAAC,mBAAmB;YAChC,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW;YACnC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,mBAAmB,CAAC,aAAa,IAAI,CAAE,IAAI,CAAC,mBAAmB,CAAC,KAAK,KAAK,MAAM,CAAC,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC,kCAAkC,CAAE,CAAE;YACjM,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAE,CAAC,CAAC,CAAC,EAAE;YACtH,KAAK,EAAE,IAAI,CAAC,KAAK;SAClB,CAAE,CACJ,CAAC;IACJ,CAAC;IAEO,KAAK,CAAC,uBAAuB;QACnC,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,mBAAmB,CAAC,UAAW,EAAE,WAAW,CAAE,CAAC;QACvF,IAAK,CAAC,eAAe,CAAC,MAAM,CAAE,YAAY,CAAE,EAAG;YAC7C,YAAE,CAAC,SAAS,CAAE,YAAY,CAAE,CAAC;SAC9B;QAED,MAAM,OAAO,CAAC,GAAG,CAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAE,OAAO,CAAC,EAAE;YACpD,MAAM,WAAW,GAAG,GAAG,YAAY,IAAI,OAAO,CAAC,EAAG,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAE,GAAG,EAAE,GAAG,CAAE,OAAO,CAAC;YACzF,YAAE,CAAC,aAAa,CACd,WAAW,EACX,IAAI,CAAC,gBAAgB,CAAE,4BAA4B,EAAE;gBACnD,OAAO;gBACP,sBAAsB,EAAE,IAAI,CAAC,gBAAgB,CAAE,8BAA8B,EAAE;oBAC7E,OAAO;oBACP,UAAU,EAAE,IAAI,CAAC,UAAU;oBAC3B,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;oBACvC,KAAK,EAAE,IAAI,CAAC,KAAK;iBAClB,CAAE;gBACH,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;oBACvD,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;oBACpC,YAAY,EAAE,sDAAsD;oBACpE,SAAS,EAAE,WAAW;iBACvB,CAAE;gBACH,UAAU,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;oBACnD,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;oBACpC,YAAY,EAAE,sDAAsD;oBACpE,SAAS,EAAE,OAAO;iBACnB,CAAE;gBACH,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAE,gBAAgB,EAAE;oBACjD,YAAY,EAAE,sDAAsD;oBACpE,QAAQ,EAAE,OAAO,CAAC,QAAQ;oBAC1B,aAAa,EAAE,OAAO,CAAC,aAAa;iBACrC,CAAE;gBACH,iBAAiB,EAAE,IAAI,CAAC,yBAAyB,CAAE,OAAO,CAAE;gBAC5D,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,mBAAmB,CAAC,KAAK,KAAK,MAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,KAAK,OAAO,CAAC,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC,kCAAkC,CAAE;gBACjM,WAAW,EAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAE,CAAC,CAAC,CAAC,EAAE;gBACtH,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAE,YAAY,EAAE;oBACzC,KAAK,EAAE,OAAO,CAAC,EAAE;oBACjB,IAAI,EAAE,OAAO,CAAC,IAAI;iBACnB,CAAE;aACJ,CAAE,CACJ,CAAC;YACF,OAAO,OAAO,CAAC;QACjB,CAAC,CAAE,CAAE,CAAC;IACR,CAAC;IAEO,yBAAyB,CAAG,OAAuB;QACzD,IAAI,kBAAkB,GAAG,EAAE,CAAC;QAC5B,KAAM,IAAI,aAAa,GAAG,CAAC,EAAE,aAAa,GAAG,OAAO,CAAC,QAAS,CAAC,MAAM,EAAE,aAAa,EAAE,EAAG;YACvF,MAAM,QAAQ,GAAG,CAAE,OAAO,CAAC,QAAS,CAAE,CAAE,aAAa,CAAE,CAAC;YACxD,MAAM,SAAS,GAAG,IAAI,CAAC,4BAA4B,CAAE,QAAQ,EAAE,aAAa,CAAE,CAAC;YAE/E,IAAK,QAAQ,CAAC,sBAAsB,IAAI,QAAQ,CAAC,QAAQ,EAAE,MAAM,EAAG;gBAClE,IAAI,8BAA8B,GAAG,EAAE,CAAC;gBACxC,KAAM,IAAI,qBAAqB,GAAG,CAAC,EAAE,qBAAqB,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,qBAAqB,EAAE,EAAG;oBAC/G,MAAM,iBAAiB,GAAG,IAAI,CAAC,4BAA4B,CAAE,CAAE,OAAO,CAAC,QAAS,CAAE,CAAE,aAAa,GAAG,qBAAqB,CAAE,EAAE,aAAa,GAAG,qBAAqB,CAAE,CAAC;oBACrK,8BAA8B,IAAI,IAAI,CAAC,gBAAgB,CAAE,4BAA4B,EAAE;wBACrF,SAAS,EAAE,iBAAiB;wBAC5B,qBAAqB;wBACrB,gBAAgB,EAAE,CAAE,OAAO,CAAC,QAAS,CAAE,CAAE,aAAa,CAAE,CAAC,QAAQ;qBAClE,CAAE,CAAC;iBACL;gBAED,MAAM,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAE,uBAAuB,EAAE;oBACtE,SAAS;oBACT,qBAAqB,EAAE,8BAA8B;iBACtD,CAAE,CAAC;gBACJ,kBAAkB,IAAI,eAAe,CAAC;gBACtC,aAAa,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;aAC/C;iBAAM;gBACL,MAAM,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAE,sBAAsB,EAAE;oBACpE,SAAS;iBACV,CAAE,CAAC;gBAEJ,kBAAkB,IAAI,cAAc,CAAC;aACtC;SACF;QACD,OAAO,kBAAkB,CAAC;IAC5B,CAAC;IAEO,4BAA4B,CAAG,QAAyB,EAAE,aAAqB;QACrF,OAAkC;YAChC,MAAM,EAAE,IAAI,CAAC,mBAAmB;YAChC,aAAa;YACb,QAAQ;YACR,UAAU,EAAE,QAAQ,CAAC,EAAE;YACvB,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,CAAE;YACzD,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAE,8BAA8B,EAAE;gBACrE,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,QAAQ;gBACR,aAAa;aACd,CAAE;YACH,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAE,uBAAuB,EAAE;gBACvD,QAAQ;gBACR,aAAa;aACd,CAAE;YACH,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAE,qBAAqB,EAAE;gBACnD,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,sBAAsB,EAAE,QAAQ,CAAC,sBAAsB;gBACvD,aAAa;gBACb,KAAK,EAAE,QAAQ,CAAC,KAAK;aACtB,CAAE;YACH,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAE,sBAAsB,EAAE;gBACrD,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,QAAQ;gBACR,aAAa;gBACb,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAE,qBAAqB,EAAE;oBACnD,MAAM,EAAE,IAAI,CAAC,mBAAmB;oBAChC,sBAAsB,EAAE,QAAQ,CAAC,sBAAsB;oBACvD,aAAa;oBACb,KAAK,EAAE,QAAQ,CAAC,MAAM,EAAE,KAAK;iBAC9B,CAAE;aACJ,CAAE;YACH,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAE,qBAAqB,EAAE;gBACnD,MAAM,EAAE,IAAI,CAAC,mBAAmB;gBAChC,QAAQ;gBACR,aAAa;gBACb,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAE,qBAAqB,EAAE;oBACnD,MAAM,EAAE,IAAI,CAAC,mBAAmB;oBAChC,sBAAsB,EAAE,QAAQ,CAAC,sBAAsB;oBACvD,aAAa;oBACb,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,KAAK;iBAC7B,CAAE;aACJ,CAAE;SACJ,CAAC;IACJ,CAAC;IAEO,gBAAgB,CAAG,QAAgB;QACzC,OAAO,YAAE,CAAC,YAAY,CAAE,eAAe,CAAC,MAAM,CAAE,QAAQ,CAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAE,EAAE,OAAO,CAAE,CAAC;IAC5H,CAAC;IAEO,gBAAgB,CAAG,YAAoB,EAAE,UAAgC;QAC/E,MAAM,gBAAgB,GAAG,MAAM,CAAC,QAAQ,CAAE,IAAI,CAAC,gBAAgB,CAAE,YAAY,CAAE,CAAE,CAAC;QAClF,MAAM,CAAC,MAAM,CAAE,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAE,CAAC;QAC1D,OAAO,gBAAgB,CAAE,UAAU,CAAE,CAAC;IACxC,CAAC;IAEO,KAAK,CAAC,2BAA2B;QACvC,MAAM,GAAG,CAAC,IAAI,CAAE,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,UAAU,EAAE,eAAe,CAAE,EAAE,IAAI,CAAC,OAAO,CAAE,IAAI,CAAC,mBAAmB,CAAC,UAAW,EAAE,WAAW,CAAE,CAAE,CAAC;IACrI,CAAC;CACF;AApOD,oCAoOC","sourcesContent":["import * as CommonFunctions from '../../common-functions/common-functions';\nimport * as ConsoleMessages from '../../helpers/console-messages';\nimport type * as Models from '../../models/models';\nimport * as fse from 'fs-extra';\nimport * as lodash from 'lodash';\nimport * as path from 'path';\nimport * as scripts from './html-charts-scripts-functions';\nimport fs, { promises as fsp } from 'fs';\nimport { ChartsData } from './charts-data';\nimport chalk from 'chalk';\nimport open from 'open';\n\nconst featureOverviewScriptsTemplate = '/resources/templates/scripts/feature-overview-scripts.tmpl';\nconst featuresOverviewScriptsTemplate = '/resources/templates/scripts/features-overview-scripts.tmpl';\nconst reportStylesheetDarkThemeTemplate = '/resources/templates/css/style-dark-theme.css';\nconst reportStylesheetLightThemeTemplate = '/resources/templates/css/style-light-theme.css';\nconst featuresOverviewIndexTemplate = '/resources/templates/components/features-overview/features-overview-index.tmpl';\nconst featuresOverviewTableTemplate = '/resources/templates/components/features-overview/features-overview-table.tmpl';\nconst pieChartTemplate = '/resources/templates/components/charts/pie-chart.tmpl';\nconst metadataTemplate = '/resources/templates/components/charts/metadata.tmpl';\nconst featureOverviewIndexTemplate = '/resources/templates/components/feature-overview/feature-overview-index.tmpl';\nconst scenarioStepsTemplate = '/resources/templates/components/feature-overview/scenario-elements/steps.tmpl';\nconst scenarioBeforeTemplate = '/resources/templates/components/feature-overview/scenario-elements/before.tmpl';\nconst scenarioAfterTemplate = '/resources/templates/components/feature-overview/scenario-elements/after.tmpl';\nconst tagsTemplate = '/resources/templates/components/feature-overview/scenario-elements/tags.tmpl';\nconst scenarioNameAndResultsTemplate = '/resources/templates/components/feature-overview/scenario-elements/name-and-results.tmpl';\nconst scenarioResultsTemplate = '/resources/templates/components/feature-overview/scenario-elements/results.tmpl';\nconst simpleScenarioTemplate = '/resources/templates/components/feature-overview/scenarios/simple-scenario.tmpl';\nconst outlineScenarioTemplate = '/resources/templates/components/feature-overview/scenarios/outline-scenario.tmpl';\nconst outlineScenarioChildTemplate = '/resources/templates/components/feature-overview/scenarios/outline-scenario-child.tmpl';\nconst resourcesFolder = '/resources/dependencies/';\n\nexport class GenerateHtml {\n  private readonly suite: Models.ExtendedReport;\n  private readonly scriptsFunctions: scripts.HtmlScriptsFunctions;\n  private readonly chartsData: ChartsData;\n  private readonly reportConfiguration: Models.ReportDisplay;\n  private readonly featuresOverviewIndex: string;\n  private readonly rootFolder: string;\n\n  public constructor( suite: Models.ExtendedReport, reportConfiguration: Models.ReportDisplay ) {\n    this.suite = suite;\n    this.chartsData = new ChartsData( this.suite );\n    this.reportConfiguration = reportConfiguration;\n    this.scriptsFunctions = new scripts.HtmlScriptsFunctions( this.reportConfiguration.theme! );\n    this.featuresOverviewIndex = path.join( this.reportConfiguration.reportPath!, 'index.html' );\n    const scriptName = path.basename( __filename );\n    this.rootFolder = path.join( path.dirname( require.resolve( `./${scriptName}` ) ), '../../..' );\n  }\n\n  public async createHtmlPages (): Promise<void> {\n    this.createFeaturesOverviewIndexPage();\n    await this.createFeatureIndexPages();\n    if ( !this.reportConfiguration.useCDN ) {\n      await this.copyResourcesToTargetFolder();\n    }\n    await this.openReportInBrowser();\n  }\n\n  private async openReportInBrowser (): Promise<void> {\n    /* istanbul ignore else */\n    if ( this.reportConfiguration.disableLog ) {\n      console.log( chalk.blue( ConsoleMessages.reportCreated( this.featuresOverviewIndex ) ) );\n    }\n\n    /* istanbul ignore next */\n    if ( this.reportConfiguration.openReportInBrowser ) {\n      const dir = path.join( this.reportConfiguration.reportPath!, 'features' );\n      const files = await fsp.readdir( dir );\n\n      /* istanbul ignore next */\n      if ( files.length === 1 && this.reportConfiguration.navigateToFeatureIfThereIsOnlyOne ) {\n        await open( path.join( dir, files[ 0 ] ) );\n      } else {\n        const result = await open( this.featuresOverviewIndex );\n        console.log( result );\n      }\n    }\n  }\n\n  private createFeaturesOverviewIndexPage (): void {\n    fs.writeFileSync(\n      this.featuresOverviewIndex,\n      this.generateTemplate( featuresOverviewIndexTemplate, {\n        featuresOverview: this.generateTemplate( featuresOverviewTableTemplate, {\n          suite: this.suite\n        } ),\n        featuresChart: this.generateTemplate( pieChartTemplate, {\n          results: this.suite.results.features,\n          dataBsTarget: '#Features-Charts, #Scenarios-Charts,#Metadata-Properties',\n          chartData: 'Features'\n        } ),\n        scenariosChart: this.generateTemplate( pieChartTemplate, {\n          results: this.suite.results.features,\n          dataBsTarget: '#Features-Charts, #Scenarios-Charts,#Metadata-Properties',\n          chartData: 'Scenarios'\n        } ),\n        metadata: this.generateTemplate( metadataTemplate, {\n          dataBsTarget: '#Features-Charts, #Scenarios-Charts,#Metadata-Properties',\n          metadata: this.suite.metadata,\n          metadataTitle: this.suite.metadataTitle\n        } ),\n\n        featuresOverviewScripts: this.generateTemplate( featuresOverviewScriptsTemplate, {\n          config: this.reportConfiguration,\n          chartsData: this.chartsData,\n          scriptsFunctions: this.scriptsFunctions,\n          suite: this.suite\n        } ),\n        config: this.reportConfiguration,\n        projectName: this.suite.reportTitle,\n        styles: this.generateTemplate( this.reportConfiguration.overrideStyle ?? ( this.reportConfiguration.theme === 'Dark' ? reportStylesheetDarkThemeTemplate : reportStylesheetLightThemeTemplate ) ),\n        customStyle: this.reportConfiguration.customStyle ? this.generateTemplate( this.reportConfiguration.customStyle ) : '',\n        suite: this.suite\n      } )\n    );\n  }\n\n  private async createFeatureIndexPages (): Promise<void> {\n    const featuresPath = path.resolve( this.reportConfiguration.reportPath!, 'features/' );\n    if ( !CommonFunctions.exists( featuresPath ) ) {\n      fs.mkdirSync( featuresPath );\n    }\n\n    await Promise.all( this.suite.features.map( feature => {\n      const featurePage = `${featuresPath}/${feature.id!.toString().replace( '/', '_' )}.html`;\n      fs.writeFileSync(\n        featurePage,\n        this.generateTemplate( featureOverviewIndexTemplate, {\n          feature,\n          featureOverviewScripts: this.generateTemplate( featureOverviewScriptsTemplate, {\n            feature,\n            chartsData: this.chartsData,\n            scriptsFunctions: this.scriptsFunctions,\n            suite: this.suite\n          } ),\n          config: this.reportConfiguration,\n          scenariosChart: this.generateTemplate( pieChartTemplate, {\n            results: this.suite.results.features,\n            dataBsTarget: '#scenarios-charts,#steps-charts,#metadata-properties',\n            chartData: 'Scenarios'\n          } ),\n          stepsChart: this.generateTemplate( pieChartTemplate, {\n            results: this.suite.results.features,\n            dataBsTarget: '#scenarios-charts,#steps-charts,#metadata-properties',\n            chartData: 'Steps'\n          } ),\n          metadata: this.generateTemplate( metadataTemplate, {\n            dataBsTarget: '#scenarios-charts,#steps-charts,#metadata-properties',\n            metadata: feature.metadata,\n            metadataTitle: feature.metadataTitle\n          } ),\n          scenariosTemplate: this.generateScenariosTemplate( feature ),\n          styles: this.generateTemplate( this.reportConfiguration.theme === 'Dark' || this.reportConfiguration.theme !== 'Light' ? reportStylesheetDarkThemeTemplate : reportStylesheetLightThemeTemplate ),\n          customStyle: this.reportConfiguration.customStyle ? this.generateTemplate( this.reportConfiguration.customStyle ) : '',\n          suite: this.suite,\n          tags: this.generateTemplate( tagsTemplate, {\n            index: feature.id,\n            tags: feature.tags\n          } ),\n        } )\n      );\n      return feature;\n    } ) );\n  }\n\n  private generateScenariosTemplate ( feature: Models.Feature ): string {\n    let scenariosTemplates = '';\n    for ( let scenarioIndex = 0; scenarioIndex < feature.elements!.length; scenarioIndex++ ) {\n      const scenario = ( feature.elements! )[ scenarioIndex ];\n      const templates = this.getScenarioElementsTemplates( scenario, scenarioIndex );\n\n      if ( scenario.isFirstScenarioOutline && scenario.examples?.length ) {\n        let scenarioOutlineChildsTemplates = '';\n        for ( let scenarioExamplesIndex = 1; scenarioExamplesIndex < scenario.examples.length; scenarioExamplesIndex++ ) {\n          const scenarioTemplates = this.getScenarioElementsTemplates( ( feature.elements! )[ scenarioIndex + scenarioExamplesIndex ], scenarioIndex + scenarioExamplesIndex );\n          scenarioOutlineChildsTemplates += this.generateTemplate( outlineScenarioChildTemplate, {\n            templates: scenarioTemplates,\n            scenarioExamplesIndex,\n            scenarioExamples: ( feature.elements! )[ scenarioIndex ].examples\n          } );\n        }\n\n        const scenarioOutline = this.generateTemplate( outlineScenarioTemplate, {\n          templates,\n          scenarioOutlineChilds: scenarioOutlineChildsTemplates\n        } );\n        scenariosTemplates += scenarioOutline;\n        scenarioIndex += scenario.examples.length - 1;\n      } else {\n        const simpleScenario = this.generateTemplate( simpleScenarioTemplate, {\n          templates\n        } );\n\n        scenariosTemplates += simpleScenario;\n      }\n    }\n    return scenariosTemplates;\n  }\n\n  private getScenarioElementsTemplates ( scenario: Models.Scenario, scenarioIndex: number ): Models.ScenariosTemplates {\n    return <Models.ScenariosTemplates>{\n      config: this.reportConfiguration,\n      scenarioIndex,\n      scenario,\n      scenarioId: scenario.id,\n      tags: this.generateTemplate( tagsTemplate, { scenario } ),\n      nameAndResults: this.generateTemplate( scenarioNameAndResultsTemplate, {\n        config: this.reportConfiguration,\n        scenario,\n        scenarioIndex\n      } ),\n      results: this.generateTemplate( scenarioResultsTemplate, {\n        scenario,\n        scenarioIndex\n      } ),\n      steps: this.generateTemplate( scenarioStepsTemplate, {\n        config: this.reportConfiguration,\n        isFirstScenarioOutline: scenario.isFirstScenarioOutline,\n        scenarioIndex,\n        steps: scenario.steps,\n      } ),\n      before: this.generateTemplate( scenarioBeforeTemplate, {\n        config: this.reportConfiguration,\n        scenario,\n        scenarioIndex,\n        steps: this.generateTemplate( scenarioStepsTemplate, {\n          config: this.reportConfiguration,\n          isFirstScenarioOutline: scenario.isFirstScenarioOutline,\n          scenarioIndex,\n          steps: scenario.before?.steps\n        } )\n      } ),\n      after: this.generateTemplate( scenarioAfterTemplate, {\n        config: this.reportConfiguration,\n        scenario,\n        scenarioIndex,\n        steps: this.generateTemplate( scenarioStepsTemplate, {\n          config: this.reportConfiguration,\n          isFirstScenarioOutline: scenario.isFirstScenarioOutline,\n          scenarioIndex,\n          steps: scenario.after?.steps\n        } )\n      } )\n    };\n  }\n\n  private readTemplateFile ( fileName: string ): string {\n    return fs.readFileSync( CommonFunctions.exists( fileName ) ? fileName : path.join( this.rootFolder, fileName ), 'utf-8' );\n  }\n\n  private generateTemplate ( templateName: string, parameters?: Record<string, any> ): string {\n    const compiledTemplate = lodash.template( this.readTemplateFile( templateName ) );\n    lodash.extend( 'scriptFunctions', this.scriptsFunctions );\n    return compiledTemplate( parameters );\n  }\n\n  private async copyResourcesToTargetFolder (): Promise<void> {\n    await fse.copy( path.join( this.rootFolder, resourcesFolder ), path.resolve( this.reportConfiguration.reportPath!, 'resources' ) );\n  }\n}\n"]}